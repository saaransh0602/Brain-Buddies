<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BrainBuddies — Learn Better</title>

  <!-- Fonts + Icons + Bootstrap -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bb-body">

  <!-- Auth / Landing -->
  <section id="authSection" class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="bb-hero card border-0 shadow-lg overflow-hidden">
          <div class="row g-0">
            <div class="col-lg-5 bb-hero-left p-4 p-lg-5">
              <div class="d-flex align-items-center gap-2 mb-3">
                <i class="bi bi-mortarboard-fill fs-3"></i>
                <h1 class="h3 m-0 fw-bold">BrainBuddies</h1>
              </div>
              <h2 class="display-6 fw-extrabold lh-1 mb-3">Learn with trust.<br/>Grow with peers.</h2>
              <p class="text-light-emphasis mb-4">A clean, campus-friendly course marketplace where verified instructors teach and students enroll, rate, and thrive.</p>
              <ul class="bb-bullets">
                <li><i class="bi bi-patch-check"></i> Verified instructor badges</li>
                <li><i class="bi bi-stars"></i> Ratings & reviews that actually matter</li>
                <li><i class="bi bi-phone"></i> Mobile-first, fast, and simple</li>
              </ul>
            </div>
            <div class="col-lg-7 bg-white p-4 p-lg-5">
              <ul class="nav nav-pills mb-3 bb-tabs" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="login-tab" data-bs-toggle="pill" data-bs-target="#login" type="button" role="tab">
                    <i class="bi bi-box-arrow-in-right me-1"></i> Login
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="signup-tab" data-bs-toggle="pill" data-bs-target="#signup" type="button" role="tab">
                    <i class="bi bi-person-plus me-1"></i> Sign up
                  </button>
                </li>
              </ul>
              <div class="tab-content">
                <!-- Login -->
                <div class="tab-pane fade show active" id="login" role="tabpanel">
                  <form id="loginForm" class="bb-form">
                    <div class="mb-3">
                      <label class="form-label">Email</label>
                      <input type="email" id="loginEmail" class="form-control form-control-lg" required>
                    </div>
                    <div class="mb-4">
                      <label class="form-label">Password</label>
                      <input type="password" id="loginPassword" class="form-control form-control-lg" required>
                    </div>
                    <button class="btn btn-primary btn-lg w-100" type="submit">Continue</button>
                  </form>
                </div>
                <!-- Signup -->
                <div class="tab-pane fade" id="signup" role="tabpanel">
                  <form id="signupForm" class="bb-form">
                    <div class="mb-3">
                      <label class="form-label">Full name</label>
                      <input type="text" id="signupName" class="form-control form-control-lg" required>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Email</label>
                      <input type="email" id="signupEmail" class="form-control form-control-lg" required>
                      <small class="text-muted">Using a <b>.edu</b> or <b>.ac.in</b> email will auto-apply a Verified badge for instructors.</small>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Password</label>
                      <input type="password" id="signupPassword" class="form-control form-control-lg" required>
                    </div>
                    <div class="mb-4">
                      <label class="form-label d-block">I am a</label>
                      <div class="btn-group" role="group">
                        <input type="radio" class="btn-check" name="role" id="roleStudent" value="student" checked>
                        <label class="btn btn-outline-secondary" for="roleStudent"><i class="bi bi-person"></i> Student</label>
                        <input type="radio" class="btn-check" name="role" id="roleInstructor" value="instructor">
                        <label class="btn btn-outline-secondary" for="roleInstructor"><i class="bi bi-person-workspace"></i> Instructor</label>
                      </div>
                    </div>
                    <button class="btn btn-primary btn-lg w-100" type="submit">Create account</button>
                  </form>
                </div>
              </div>
              <div class="text-center mt-3 small text-muted">By continuing you agree to our simple demo terms.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- App Shell -->
  <section id="mainApp" class="bb-app d-none">
    <!-- Top Nav -->
    <nav class="navbar navbar-expand-lg bb-topbar">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="#"><i class="bi bi-mortarboard-fill me-2"></i>BrainBuddies</a>
        <div class="d-flex align-items-center gap-3 ms-auto">
          <span id="topRoleBadge" class="badge text-bg-primary">Student</span>
          <div class="dropdown">
            <button class="btn btn-outline-light d-flex align-items-center gap-2" data-bs-toggle="dropdown">
              <span id="userName">User</span>
              <i class="bi bi-chevron-down small"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="#" data-page="profile"><i class="bi bi-person-circle me-2"></i>Profile</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><button id="logoutBtn" class="dropdown-item text-danger"><i class="bi bi-box-arrow-right me-2"></i>Logout</button></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <div class="bb-layout">
      <!-- Sidebar -->
      <aside class="bb-sidebar">
        <div class="text-uppercase fw-bold small text-muted px-3 mb-2">Navigation</div>
        <ul class="nav flex-column gap-1" id="sidebarNav">
          <!-- Student menu -->
          <li class="nav-item student-only">
            <a class="nav-link active" href="#" data-page="catalog"><i class="bi bi-collection me-2"></i>Catalog</a>
          </li>
          <li class="nav-item student-only">
            <a class="nav-link" href="#" data-page="mylearning"><i class="bi bi-journal-check me-2"></i>My Learning</a>
          </li>
          <!-- Instructor menu -->
          <li class="nav-item instructor-only d-none">
            <a class="nav-link" href="#" data-page="instructorOverview"><i class="bi bi-graph-up-arrow me-2"></i>Overview</a>
          </li>
          <li class="nav-item instructor-only d-none">
            <a class="nav-link" href="#" data-page="instructorCourses"><i class="bi bi-stack me-2"></i>My Courses</a>
          </li>
          <li class="nav-item instructor-only d-none">
            <a class="nav-link" href="#" data-page="createCourse"><i class="bi bi-plus-square me-2"></i>Create Course</a>
          </li>
        </ul>
      </aside>

      <!-- Content -->
      <main class="bb-content">
        <!-- CATALOG (Student) -->
        <div id="page-catalog" class="bb-page">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="mb-0">Explore Courses</h2>
            <div class="input-group w-auto">
              <span class="input-group-text"><i class="bi bi-search"></i></span>
              <input id="searchInput" type="search" class="form-control" placeholder="Search courses...">
            </div>
          </div>
          <div id="courseGrid" class="row g-3"></div>
          <div id="catalogEmpty" class="text-center text-muted py-5 d-none">No courses yet.</div>
        </div>

        <!-- MY LEARNING (Student) -->
        <div id="page-mylearning" class="bb-page d-none">
          <h2 class="mb-3">My Learning</h2>
          <div id="myLearningGrid" class="row g-3"></div>
          <div id="myLearningEmpty" class="text-center text-muted py-5 d-none">You haven’t enrolled in any course yet.</div>
        </div>

        <!-- INSTRUCTOR OVERVIEW -->
        <div id="page-instructorOverview" class="bb-page d-none">
          <h2 class="mb-3">Overview</h2>
          <div class="row g-3">
            <div class="col-md-4">
              <div class="bb-metric card shadow-sm">
                <div class="card-body">
                  <div class="bb-metric-icon"><i class="bi bi-stack"></i></div>
                  <div class="bb-metric-label">Total Courses</div>
                  <div class="bb-metric-value" id="metricTotalCourses">0</div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="bb-metric card shadow-sm">
                <div class="card-body">
                  <div class="bb-metric-icon"><i class="bi bi-people"></i></div>
                  <div class="bb-metric-label">Total Enrollments</div>
                  <div class="bb-metric-value" id="metricEnrollments">0</div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="bb-metric card shadow-sm">
                <div class="card-body">
                  <div class="bb-metric-icon"><i class="bi bi-star-half"></i></div>
                  <div class="bb-metric-label">Avg Rating</div>
                  <div class="bb-metric-value" id="metricAvgRating">—</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- INSTRUCTOR COURSES -->
        <div id="page-instructorCourses" class="bb-page d-none">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="mb-0">My Courses</h2>
            <a href="#" class="btn btn-primary" data-page="createCourse"><i class="bi bi-plus-square me-1"></i>New Course</a>
          </div>
          <div id="instructorCourseList" class="row g-3"></div>
          <div id="instructorCoursesEmpty" class="text-center text-muted py-5 d-none">You haven’t published any course yet.</div>
        </div>

        <!-- CREATE COURSE -->
        <div id="page-createCourse" class="bb-page d-none">
          <h2 class="mb-3">Create Course</h2>
          <form id="createCourseForm" class="card p-4 shadow-sm">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Title</label>
                <input id="courseTitle" class="form-control form-control-lg" required />
              </div>
              <div class="col-md-6">
                <label class="form-label">Category</label>
                <input id="courseCategory" class="form-control form-control-lg" placeholder="e.g., Web Dev, ML" />
              </div>
              <div class="col-12">
                <label class="form-label">Description</label>
                <textarea id="courseDesc" class="form-control" rows="4" required></textarea>
              </div>
              <div class="col-md-6">
                <label class="form-label">Price (₹)</label>
                <input id="coursePrice" type="number" min="0" step="1" class="form-control" placeholder="0 for free" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Thumbnail URL (optional)</label>
                <input id="courseThumb" type="url" class="form-control" placeholder="https://..." />
              </div>
            </div>
            <div class="mt-4 d-flex gap-2">
              <button class="btn btn-primary" type="submit"><i class="bi bi-cloud-upload me-1"></i>Publish</button>
              <button class="btn btn-outline-secondary" type="reset">Reset</button>
            </div>
          </form>
        </div>

        <!-- PROFILE -->
        <div id="page-profile" class="bb-page d-none">
          <h2 class="mb-3">Profile</h2>
          <div class="card shadow-sm p-4">
            <div class="d-flex align-items-center gap-3">
              <div class="bb-avatar"><i class="bi bi-person"></i></div>
              <div>
                <h5 class="mb-1"><span id="profileName">—</span> <span id="profileVerified" class="ms-1"></span></h5>
                <div class="text-muted small">Role: <span id="profileRole">—</span></div>
                <div class="text-muted small">Email: <span id="profileEmail">—</span></div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </section>

  <!-- MODALS -->
  <!-- Course Details -->
  <div class="modal fade" id="courseModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="courseModalTitle" class="modal-title">Course</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex gap-3">
            <img id="courseModalThumb" class="rounded bb-thumb" alt="course thumbnail"/>
            <div>
              <div class="mb-2"><span id="courseModalCategory" class="badge text-bg-secondary"></span></div>
              <div class="text-muted mb-2">By <span id="courseModalInstructor"></span></div>
              <div id="courseModalRating" class="mb-2"></div>
              <p id="courseModalDesc" class="mb-0"></p>
            </div>
          </div>
          <hr>
          <h6 class="mb-2">Reviews</h6>
          <div id="courseModalReviews" class="vstack gap-2 small"></div>
          <div id="noReviews" class="text-muted small">No reviews yet.</div>
        </div>
        <div class="modal-footer">
          <div class="me-auto fw-semibold" id="courseModalPrice">₹0</div>
          <button id="reviewBtn" type="button" class="btn btn-outline-secondary"><i class="bi bi-chat-left-quote me-1"></i>Write Review</button>
          <button id="enrollBtn" type="button" class="btn btn-primary"><i class="bi bi-bag-plus me-1"></i>Enroll</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Review Modal -->
  <div class="modal fade" id="reviewModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <form id="reviewForm" class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Your Review</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <label class="form-label">Rating</label>
          <select id="reviewRating" class="form-select mb-3">
            <option value="5">5 — Excellent</option>
            <option value="4">4 — Good</option>
            <option value="3">3 — Okay</option>
            <option value="2">2 — Poor</option>
            <option value="1">1 — Bad</option>
          </select>
          <label class="form-label">Comment (optional)</label>
          <textarea id="reviewComment" class="form-control" rows="3" placeholder="What did you like or struggle with?"></textarea>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" type="submit">Submit Review</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Course Modal -->
  <div class="modal fade" id="editCourseModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <form id="editCourseForm" class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Edit Course</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body row g-3 px-3">
          <input type="hidden" id="editCourseId">
          <div class="col-md-6">
            <label class="form-label">Title</label>
            <input id="editCourseTitle" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Category</label>
            <input id="editCourseCategory" class="form-control" />
          </div>
          <div class="col-12">
            <label class="form-label">Description</label>
            <textarea id="editCourseDesc" class="form-control" rows="4" required></textarea>
          </div>
          <div class="col-md-6">
            <label class="form-label">Price (₹)</label>
            <input id="editCoursePrice" type="number" min="0" step="1" class="form-control"/>
          </div>
          <div class="col-md-6">
            <label class="form-label">Thumbnail URL</label>
            <input id="editCourseThumb" type="url" class="form-control"/>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" type="submit">Save changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toasts -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index:1080">
    <div id="bbToast" class="toast align-items-center text-bg-dark border-0" role="alert">
      <div class="d-flex">
        <div id="bbToastBody" class="toast-body">Done.</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
